<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Code Viewer - Lenguajes</title>
<style>
    body {
        margin: 0;
        font-family: Consolas, monospace;
        background: #0f172a;
        color: #d4d4d4;
        display: flex;
        height: 100vh;
    }

    /* Sidebar */
    .sidebar {
        width: 260px;
        background: #020617;
        border-right: 1px solid #1e293b;
        padding: 10px;
    }

    .folder {
        font-weight: bold;
        color: #cbd5e1;
        margin-top: 10px;
        cursor: pointer;
    }

    .file {
        padding-left: 20px;
        cursor: pointer;
        color: #94a3b8;
        margin: 5px 0;
    }

    .file:hover { color: white; }

    .file.active {
        color: #fff;
        background: #4f46e5;
        border-radius: 6px;
        padding: 2px 6px;
    }

    /* Viewer */
    .viewer {
        flex: 1;
        padding: 20px;
    }

    pre {
        background: #1e1e1e;
        padding: 20px;
        border-radius: 10px;
        overflow-x: auto;
        line-height: 1.6;
    }

    /* Colores Java */
    .keyword { color: #569cd6; font-weight: bold; }
    .class { color: #4ec9b0; font-weight: bold; }
    .string { color: #ce9178; }
    .comment { color: #6a9955; font-style: italic; }
    .number { color: #b5cea8; }
</style>
</head>

<body>

<div class="sidebar">
    <div class="logo">
        <img src="https://raw.githubusercontent.com/LyPaw/Mapa_Visual_Qwen/main/Logo/logo.svg" alt="Logo" />
    </div>
    <div id="sidebar"></div>
</div>

<div class="viewer">
    <h2 id="title">Selecciona un archivo</h2>
    <pre id="code">üìÇ Elige un archivo de la izquierda‚Ä¶</pre>
</div>

<script>
const fileTree = {
    Java: [
        {
            name: "Array_List.java",
            url: "https://raw.githubusercontent.com/LyPaw/Mapa_Visual_Qwen/7b6a28803c8f9c605b9667dc6e093fde0c0d7289/DAM/Java/Array_List.java"
        },
        {
            name: "Conjuntos.java",
            url: "https://raw.githubusercontent.com/LyPaw/Mapa_Visual_Qwen/f6adf23ddd1bb4131322a256f696b81b24dd8dde/DAM/Java/Conjuntos.java"
        },
        {
            name: "Mapas.java",
            url: "https://github.com/LyPaw/Mapa_Visual_Qwen/blob/b7aac9ea660f146c1ca0122b8fff4eeac1a88bf3/DAM/Java/Mapas.Java"
        }
    ]
};

const sidebar = document.getElementById("sidebar");
const codeEl = document.getElementById("code");
const titleEl = document.getElementById("title");

for (const lang in fileTree) {
    const folder = document.createElement("div");
    folder.className = "folder";
    folder.textContent = "üìÅ " + lang;
    sidebar.appendChild(folder);

    fileTree[lang].forEach(file => {
        const fileEl = document.createElement("div");
        fileEl.className = "file";
        fileEl.textContent = "üìÑ " + file.name;
        fileEl.onclick = () => loadFile(file, fileEl);
        sidebar.appendChild(fileEl);
    });
}

function loadFile(file, el) {
    document.querySelectorAll(".file").forEach(f => f.classList.remove("active"));
    el.classList.add("active");

    titleEl.textContent = file.name;
    codeEl.textContent = "‚è≥ Cargando...";

    fetch(file.url)
        .then(r => r.text())
        .then(text => codeEl.innerHTML = highlightJava(text))
        .catch(() => codeEl.textContent = "‚ùå Error al cargar archivo");
}

function highlightJava(code) {
    return code
        .replace(/(\/\/.*)/g, '<span class="comment">$1</span>')
        .replace(/("(?:[^"\\]|\\.)*")/g, '<span class="string">$1</span>')
        .replace(/\b(class|public|private|protected|static|void|new|return|if|else|for|while|int|double|float|boolean|char|String)\b/g,
                 '<span class="keyword">$1</span>')
        .replace(/\b([A-Z][a-zA-Z0-9_]*)\b/g, '<span class="class">$1</span>')
        .replace(/\b(\d+)\b/g, '<span class="number">$1</span>');
}
</script>

</body>
</html>


